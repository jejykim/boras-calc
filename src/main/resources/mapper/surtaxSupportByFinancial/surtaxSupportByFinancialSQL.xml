<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.boras.CRM.mapper.SurtaxSupportByFinancialMapper">
  	
  	<!-- 금융사별 부가세 지원여부 등록-->
  	<insert id="insertSurtaxSupportByFinancial" parameterType="surtaxSupportByFinancialVO">
		INSERT INTO surtax_support_by_financial(
			surtax_support_by_financial_company_cd,
			surtax_support_by_financial_product_cd,
			surtax_support_by_financial_ag_fee_surtax_support_yn,
			surtax_support_by_financial_sliding_surtax_support_yn,
			surtax_support_by_financial_add_fee_surtax_support_yn,
			surtax_support_by_financial_create_date,
			surtax_support_by_financial_create_user_id
		)
		VALUES(
			#{surtaxSupportByFinancialCompanyCd},
			#{surtaxSupportByFinancialProductCd},
			#{surtaxSupportByFinancialAgFeeSurtaxSupportYn},
			#{surtaxSupportByFinancialSlidingSurtaxSupportYn},
			#{surtaxSupportByFinancialAddFeeSurtaxSupportYn},
			now(),
			#{surtaxSupportByFinancialCreateUserId}
		) 
  	</insert>
  	
	<!-- 금융사별 부가세 지원여부 조회 -->
	<select id="selectSurtaxSupportByFinancial" resultType="surtaxSupportByFinancialVO" parameterType="surtaxSupportByFinancialVO">
		SELECT 
			surtax_support_by_financial_seq
			,surtax_support_by_financial_company_cd
			,(SELECT code_name FROM code WHERE code_id = ss.surtax_support_by_financial_company_cd) as surtax_support_by_financial_company_name
			,surtax_support_by_financial_product_cd
			,(SELECT code_name FROM code WHERE code_id = ss.surtax_support_by_financial_product_cd) as surtax_support_by_financial_product_name
			,surtax_support_by_financial_ag_fee_surtax_support_yn
			,surtax_support_by_financial_sliding_surtax_support_yn
			,surtax_support_by_financial_add_fee_surtax_support_yn
			,surtax_support_by_financial_create_date
			,surtax_support_by_financial_create_user_id
			,surtax_support_by_financial_update_date
			,surtax_support_by_financial_update_user_id
		FROM surtax_support_by_financial ss
  	</select>
  	
</mapper>